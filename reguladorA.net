* C:\Users\leone\Documents\repos\C2\reguladorA.asc
Q1 N006 Vref N010 0 TR1
Q2 N009 Vf N010 0 TR1
Q3 N007 N009 N001 0 2N2222
Q5 N010 N018 N026 0 BC547B
Q6 N018 N018 N025 0 BC547B
R1 Vref N018 200
R2 Vreg N003 0.1k
R3 Vreg N002 0.1k
RL Vo 0 R = 100*(1-time)
Q7 N001 N007 Vreg 0 tip42c
Q8 N009 N006 N003 0 BC557B
Q9 N006 N006 N002 0 BC557B
V1 Vreg 0 6.35
V2 Vref 0 1.2
R7 N001 N004 2.2k
R8 Vo N008 2.2k
R9 N004 0 22k
R10 N008 Vs 22k
R11 N020 Vref 7.5k
R12 0 N020 1k
R13 N015 N021 1k
R14 Vref-c N022 1k
R15 N015 N016 960
R16 N014 Vf 4.3k
R17 0 N014 4.3k
R20 N013 Vref-c 2.2k
R22 N012 N011 17k
R23 N017 0 10
R24 N022 0 1k
R21 N012 N013 82k
R200 Vs N005 2.2k
R19 0 N005 82k
R4 N001 Vo 0.1
Q4 N009 N011 N017 0 2N2222
R18 N025 0 10
R25 N026 0 10
XU6 N015 N022 5v 0 Vref-c LM324
XU2 N004 N008 5v 0 Vs TLV2371
XU1 N005 N013 5v 0 N012 LM324
XU3 N014 N016 5v 0 N016 LM324
XU4 N020 N021 5v 0 N021 LM324
V3 5v 0 5
R5 Vo Vf 3.3k
R26 Vf N019 1.2k
M1 N019 N023 0 0 BSZ100N03LS
R28 N024 N023 1k
V4 N024 0 6
R27 N019 0 1.2k
.model NPN NPN
.model PNP PNP
.lib C:\Users\leone\AppData\Local\LTspice\lib\cmp\standard.bjt
.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\leone\AppData\Local\LTspice\lib\cmp\standard.mos
;step param RE 1k 1.5k 100
;param RL=6
.tran 0.999999
.include librerias/bd140.lib
.include librerias/complex_discretes.lib
* .op
* REFERENCIA
.inc opamp.sub
.lib librerias/LM324.ti.lib
* LIBRERIAS
* SIMULACIONES
.meas DC Vo1rl FIND V(Vo) AT=6.15
.meas DC Vo2rl FIND V(Vo) AT=6.35
.meas DC RegLin PARAM ((Vo2rl-Vo1rl)/1.85)
* Mido regulacion de linea
.meas OP Vo1rc FIND V(Vo) AT 100
.meas OP Vo2rc FIND V(Vo) AT 5
.meas OP Io1rc FIND I(RL) AT 100
.meas OP Io2rc FIND I(RL) AT 5
* Mido regulacion de carga
* -100*((V(vo)*I(RL))/(V(Vreg)*I(V1)))
* Mido eficiencia
* .dc V1 2 10 0.1
.lib librerias/tlv2731.lib
.backanno
.end
